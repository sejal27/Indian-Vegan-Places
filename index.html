<!DOCTYPE html>
<html>
<head>
    <title>Indian Vegan Places</title>
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,700' rel='stylesheet' type='text/css'>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css">
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="js/knockout.js"></script>   
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/js/materialize.min.js"></script>
    <script src="https://use.fontawesome.com/105f8c4bf0.js"></script>
    <link rel="stylesheet" type="text/css" href="css/styles.css">
</head>
<body>

<!--Navigation Starts-->
    <!--Cities list-->
    <ul data-bind='foreach: cities' id="citylist" class="dropdown-content">
      <li><a href="#!" data-bind="text: $data, click: setFilter"></a></li>
    </ul>
    <!--Slide-out navigation-->
    <ul id="slide-out" class="side-nav fixed">
        <li>
            <a href="#!" class="brand-logo" id="logo-container">Indian Vegan Places</a>
        </li>
        <li>
            <a class="dropdown-button" href="#!" data-activates="citylist">Cities<i class="material-icons right">arrow_drop_down</i></a>
        </li>
        <li>
            <ul data-bind='foreach: filteredPlaces' id="filtered-list">
                <li><a href="#!" data-bind="text: name, click: viewPlace" class="place-items"></a></li>
            </ul>
        </li>
    </ul>
    <a href="#" data-activates="slide-out" class="button-collapse"><i class="material-icons" style="font-size:3em;">menu</i></a>


<!-- Navigation Ends -->

<main>
    <!--Set map to full width on small devices-->
    <div class="row">
        <div class="col s12" id="map"></div>
    </div>
  
    <!--Modal Dialog that displays place information-->
    <div id="zomato" class="modal bottom-sheet">
        
        <div class="modal-content" data-bind="with:currentPlace">
            <a href="#!" class="close-btn modal-action modal-close waves-effect waves-green btn-flat btn-small right"><i class="fa fa-window-close" aria-hidden="true"></i></i>
            </a><br>
            <h5 data-bind="text: name"></h5>
            <p><i class="fa fa-star-half-o" aria-hidden="true"></i><span data-bind="text: rating"></span></p>
            <p><span data-bind="text: address"></span></p>
            <p><span data-bind="text: cuisines"></span></p>
            <p class="divider"></p>
            <ul class="brand-list">
                <li>
                    <a data-bind="attr: {href: url}" target="_blank" title="Zomato Profile"><img src="img/zomato.png" alt="View Zomato Profile"></a>
                </li>
                <li>
                    <a data-bind="attr: {href: menu}" target="_blank" title="View Menu"><img src="img/menu.png"></a>
                </li>
                <!--If the place data contains facebook url, display it.-->
                <!-- ko if: facebook --> 
                <li>
                    <a data-bind="attr: {href: facebook}" target="_blank" title="Facebook Profile"><img src="img/facebook.png" alt="View Facebook Profile"></a>
                </li>
                <!-- /ko -->
            </ul>
            <img class="middle-align food z-depth-2" data-bind="attr: {src: image}" alt="Restauarnat food item image"/>
            <br>
        </div>
       
    </div>
     </main>

<script>
   $( document ).ready(function(){
    $(".dropdown-button").dropdown(); //Initialize Cities Dropdown
    $(".button-collapse").sideNav(); //Intialize slide-out navigation
    $(".model").modal(); // Initialize modal dialog
    $('#zomato').modal({dismissible: false}); //Modal dialog cannot be dismissed with a click 
    $('.place-items').click(function() {
      $(".button-collapse").sideNav('hide'); //Hide the side navigation when a place is clicked on small and medium devices
    });
   });
</script>

<script src="js/model.js"></script>

<script src="js/main.js"></script>

<!--Load google maps asynchronously and set InitMap as callback function-->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB5ok0Uk9SUPX23p9VEPwRZfCPaxTlvVpw&v=3&libraries=places&callback=initMap" onerror="googleError()" async defer></script>

</body>
</html>